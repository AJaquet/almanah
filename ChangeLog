2009-01-27  Philip Withnall  <philip@tecnocode.co.uk>

	* src/link-factories/:
	* src/links/: Remove directories which should've been removed when
	renaming links to events.

2009-01-27  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main.c:
	* src/main.h: Fix a compilation error when compiling with -fno-common.

2009-01-14  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.schemas.in:
	* src/main-window.c (almanah_main_window_new),
	(mw_preferences_activate_cb),
	(almanah_main_window_enable_spell_checking),
	(almanah_main_window_disable_spell_checking):
	* src/main-window.h:
	* src/main.c (main):
	* src/preferences-dialog.c (almanah_preferences_dialog_init),
	(almanah_preferences_dialog_dispose),
	(almanah_preferences_dialog_new),
	(spell_checking_enabled_notify_cb),
	(pd_spell_checking_enabled_check_button_toggled_cb):
	Allow spell checking to be disabled at runtime with a GConf option.
	(Closes: #567359)

2008-12-24  Philip Withnall  <philip@tecnocode.co.uk>

	* src/printing.c (print_entry): Add a default margin of 20px when
	printing. (Closes: #564706)

2008-12-20  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/main-window.c (mw_page_setup_activate_cb),
	(mw_print_preview_activate_cb), (mw_print_activate_cb):
	* src/main.c (storage_manager_disconnected_cb), (main):
	* src/main.h:
	* src/printing.c (custom_widget_apply_cb), (almanah_print_entries),
	(almanah_print_page_setup):
	* src/printing.h: Add Page Setup and Print Preview menu entries,
	and improve the print settings code. (Helps: #564706)

2008-12-13  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/Makefile.am:
	* src/definition-manager-window.c
	(almanah_definition_manager_window_class_init),
	(almanah_definition_manager_window_init), (definitions_dispose_cb),
	(almanah_definition_manager_window_dispose),
	(almanah_definition_manager_window_new),
	(dmw_definition_tree_view_row_activated_cb),
	(dmw_view_button_clicked_cb), (dmw_remove_button_clicked_cb),
	(definition_selection_changed_cb), (definition_added_cb),
	(definition_removed_cb), (populate_definition_store):
	* src/definition-manager-window.h:
	* src/definition.c (almanah_definition_get_blurb):
	* src/definition.h:
	* src/definitions/file.c (almanah_file_definition_class_init),
	(file_get_blurb):
	* src/definitions/note.c (almanah_note_definition_class_init),
	(note_get_blurb):
	* src/definitions/uri.c (almanah_uri_definition_class_init),
	(uri_get_blurb):
	* src/interface.c (definition_tag_event_cb):
	* src/main-window.c (almanah_main_window_dispose),
	(almanah_main_window_new), (mw_entry_buffer_apply_tag_cb),
	(mw_view_definitions_activate_cb), (mw_definition_removed_cb):
	* src/main-window.h:
	* src/storage-manager.c: Added a "Definition Manager" interface, which
	allows the user to list all their definitions and manage them.

2008-12-13  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/add-definition-dialog.c (almanah_add_definition_dialog_new):
	* src/main-window.c (almanah_main_window_new):
	* src/preferences-dialog.c (almanah_preferences_dialog_new):
	* src/search-dialog.c (almanah_search_dialog_new):
	* src/storage-manager.c (almanah_storage_manager_class_init),
	(almanah_storage_manager_add_definition),
	(almanah_storage_manager_remove_definition): Replace the "dry_" UI
	prefix with "almanah_" for consistency.

2008-12-13  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/Makefile.am:
	* src/event-factories/calendar.c
	(almanah_calendar_event_factory_class_init),
	(almanah_calendar_event_factory_init),
	(almanah_calendar_event_factory_dispose), (query_events),
	(events_changed_cb), (get_events):
	* src/event-factories/calendar.h:
	* src/event-factory.c (almanah_event_factory_class_init),
	(almanah_event_factory_init), (almanah_event_factory_get_property),
	(almanah_event_factory_get_type_id),
	(almanah_event_factory_query_events),
	(almanah_event_factory_get_events):
	* src/event-factory.h:
	* src/event-manager.c (almanah_event_manager_class_init),
	(almanah_event_manager_init), (almanah_event_manager_dispose),
	(almanah_event_manager_new), (events_updated_cb),
	(almanah_event_manager_query_events),
	(almanah_event_manager_get_events):
	* src/event-manager.h:
	* src/event.c (almanah_event_class_init), (almanah_event_init),
	(almanah_event_get_property), (almanah_event_format_value),
	(almanah_event_view), (almanah_event_get_name),
	(almanah_event_get_description), (almanah_event_get_icon_name):
	* src/event.h:
	* src/events/calendar-appointment.c
	(almanah_calendar_appointment_event_class_init),
	(almanah_calendar_appointment_event_init),
	(almanah_calendar_appointment_event_finalize),
	(almanah_calendar_appointment_event_new),
	(almanah_calendar_appointment_event_format_value),
	(almanah_calendar_appointment_event_view):
	* src/events/calendar-appointment.h:
	* src/events/calendar-task.c
	(almanah_calendar_task_event_class_init),
	(almanah_calendar_task_event_init),
	(almanah_calendar_task_event_finalize),
	(almanah_calendar_task_event_new),
	(almanah_calendar_task_event_format_value),
	(almanah_calendar_task_event_view):
	* src/events/calendar-task.h:
	* src/link-factory.c:
	* src/link-factory.h:
	* src/link-manager.c:
	* src/link-manager.h:
	* src/link.c:
	* src/link.h:
	* src/main-window.c (almanah_main_window_new),
	(save_current_entry), (clear_factory_events),
	(mw_events_updated_cb), (mw_calendar_day_selected_cb),
	(mw_events_selection_changed_cb), (mw_events_value_data_cb),
	(mw_events_tree_view_row_activated_cb),
	(mw_view_button_clicked_cb):
	* src/main.c (almanah_quit), (main):
	* src/main.h:
	* src/storage-manager.h: Renamed "links" to "events", a name which
	slightly better reflects what they are.

2008-12-07  Philip Withnall  <philip@tecnocode.co.uk>

	* src/entry.c (almanah_entry_get_editability):
	* src/main-window.c (save_current_entry):
	* src/main.c (main):
	* src/main.h: Added a command-line --import-mode option to allow
	entries to be edited, regardless of their status and the current date.
	This allows for old entries to easily be one-time imported into
	Almanah from previous diaries. (Closes: #561106)

2008-12-06  Philip Withnall  <philip@tecnocode.co.uk>

	* src/link-factories/calendar.c (get_links):
	* src/links/calendar-appointment.c
	(almanah_calendar_appointment_link_finalize),
	(almanah_calendar_appointment_link_new),
	(almanah_calendar_appointment_link_format_value),
	(almanah_calendar_appointment_link_view):
	* src/links/calendar-appointment.h:
	* src/links/calendar-task.c
	(almanah_calendar_task_link_format_value),
	(almanah_calendar_task_link_view): Allow appointment and task links to
	be viewed by spawning Evolution.
	* src/main-window.c (clear_factory_links), (mw_links_updated_cb):
	Fix a memory leak caused by not unreffing some links.

2008-12-06  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* data/almanah.ui:
	* src/Makefile.am:
	* src/add-definition-dialog.c
	(almanah_add_definition_dialog_class_init),
	(almanah_add_definition_dialog_init),
	(almanah_add_definition_dialog_dispose),
	(almanah_add_definition_dialog_finalize),
	(almanah_add_definition_dialog_get_property),
	(almanah_add_definition_dialog_set_property),
	(almanah_add_definition_dialog_new), (destroy_extra_widgets),
	(response_cb), (add_type_combo_box_changed_cb),
	(almanah_add_definition_dialog_get_text),
	(almanah_add_definition_dialog_set_text),
	(almanah_add_definition_dialog_get_definition):
	* src/add-definition-dialog.h:
	* src/add-link-dialog.c:
	* src/add-link-dialog.h:
	* src/definition.c (almanah_definition_class_init),
	(almanah_definition_init), (almanah_definition_finalize),
	(almanah_definition_get_property),
	(almanah_definition_set_property), (almanah_definition_new),
	(almanah_definition_get_type_id), (almanah_definition_get_name),
	(almanah_definition_get_description),
	(almanah_definition_get_icon_name), (almanah_definition_view),
	(almanah_definition_build_dialog),
	(almanah_definition_close_dialog), (almanah_definition_parse_text),
	(almanah_definition_get_text), (almanah_definition_set_text),
	(almanah_definition_get_value), (almanah_definition_set_value),
	(almanah_definition_get_value2), (almanah_definition_set_value2),
	(almanah_definition_populate_model):
	* src/definition.h:
	* src/definitions/file.c (almanah_file_definition_class_init),
	(almanah_file_definition_init), (file_view), (file_build_dialog),
	(file_close_dialog), (file_parse_text):
	* src/definitions/file.h:
	* src/definitions/note.c (almanah_note_definition_class_init),
	(almanah_note_definition_init), (note_view), (note_build_dialog),
	(note_close_dialog), (note_parse_text):
	* src/definitions/note.h:
	* src/definitions/uri.c (almanah_uri_definition_class_init),
	(almanah_uri_definition_init), (uri_view), (uri_build_dialog),
	(uri_close_dialog), (uri_parse_text):
	* src/definitions/uri.h:
	* src/entry.h:
	* src/interface.c (almanah_create_interface),
	(definition_tag_event_cb), (almanah_interface_create_text_tags):
	* src/interface.h:
	* src/link-factories/calendar-client.c (calendar_client_get_type),
	(calendar_client_class_init),
	(calendar_client_config_get_timezone),
	(calendar_client_config_get_icaltimezone),
	(calendar_client_set_timezone),
	(calendar_client_timezone_changed_cb), (cal_opened_cb),
	(load_calendars), (calendar_client_init),
	(calendar_client_finalize), (calendar_client_set_property),
	(calendar_client_get_property), (calendar_client_new),
	(make_time_for_day_begin), (make_isodate_for_day_begin),
	(get_time_from_property), (get_ical_uid), (get_ical_rid),
	(get_ical_summary), (get_ical_description), (get_ical_start_time),
	(get_ical_end_time), (get_ical_is_all_day), (get_ical_due_time),
	(get_ical_percent_complete), (get_ical_completed_time),
	(get_ical_priority), (get_source_color), (get_source_uri),
	(null_safe_strcmp), (calendar_appointment_equal),
	(calendar_appointment_copy), (calendar_appointment_finalize),
	(calendar_appointment_init), (resolve_timezone_id),
	(calendar_appointment_collect_occurrence),
	(calendar_appointment_generate_ocurrences), (calendar_task_equal),
	(calendar_task_copy), (calendar_task_finalize),
	(calendar_task_init), (calendar_event_free), (calendar_event_new),
	(calendar_event_copy), (calendar_event_get_uid),
	(calendar_event_equal), (calendar_event_generate_ocurrences),
	(calendar_event_debug_dump), (goddamn_this_is_crack),
	(calendar_client_handle_query_completed),
	(calendar_client_handle_query_result), (check_object_remove),
	(calendar_client_handle_objects_removed),
	(calendar_client_query_finalize), (calendar_client_stop_query),
	(calendar_client_start_query),
	(calendar_client_update_appointments),
	(calendar_client_update_tasks), (calendar_client_source_finalize),
	(compare_calendar_sources), (calendar_client_update_sources_list),
	(calendar_client_appointment_sources_changed),
	(calendar_client_task_sources_changed), (calendar_client_get_date),
	(calendar_client_select_month), (calendar_client_select_day),
	(filter_appointment), (filter_task),
	(calendar_client_filter_events), (calendar_client_get_events),
	(day_from_time_t), (calendar_client_foreach_appointment_day),
	(calendar_client_set_task_completed):
	* src/link-factories/calendar-client.h:
	* src/link-factories/calendar-debug.h:
	* src/link-factories/calendar-sources.c
	(calendar_sources_get_type), (calendar_sources_class_init),
	(calendar_sources_init), (calendar_sources_finalize_source_data),
	(calendar_sources_finalize), (calendar_sources_get),
	(is_source_selected), (auth_func_cb), (get_ecal_from_source),
	(compare_ecal_lists), (debug_dump_selected_sources),
	(debug_dump_ecal_list), (backend_restart), (backend_died_cb),
	(calendar_sources_load_esource_list),
	(calendar_sources_esource_list_changed),
	(calendar_sources_selected_sources_notify),
	(calendar_sources_load_sources),
	(calendar_sources_get_appointment_sources),
	(calendar_sources_get_task_sources):
	* src/link-factories/calendar-sources.h:
	* src/link-factories/calendar.c
	(almanah_calendar_link_factory_class_init),
	(almanah_calendar_link_factory_init),
	(almanah_calendar_link_factory_dispose), (query_links),
	(events_changed_cb), (date_to_time), (get_links):
	* src/link-factories/calendar.h:
	* src/link-factory.c (almanah_link_factory_class_init),
	(almanah_link_factory_init), (almanah_link_factory_get_property),
	(almanah_link_factory_get_type_id),
	(almanah_link_factory_query_links),
	(almanah_link_factory_get_links):
	* src/link-factory.h:
	* src/link-manager.c (almanah_link_manager_class_init),
	(almanah_link_manager_init), (almanah_link_manager_dispose),
	(almanah_link_manager_new), (links_updated_cb),
	(almanah_link_manager_query_links),
	(almanah_link_manager_get_links):
	* src/link-manager.h:
	* src/link.c (almanah_link_class_init), (almanah_link_init),
	(almanah_link_get_property), (almanah_link_view),
	(almanah_link_get_icon_name):
	* src/link.h:
	* src/links/calendar-appointment.c
	(almanah_calendar_appointment_link_class_init),
	(almanah_calendar_appointment_link_init),
	(almanah_calendar_appointment_link_finalize),
	(almanah_calendar_appointment_link_new),
	(almanah_calendar_appointment_link_format_value),
	(almanah_calendar_appointment_link_view):
	* src/links/calendar-appointment.h:
	* src/links/calendar-task.c
	(almanah_calendar_task_link_class_init),
	(almanah_calendar_task_link_init),
	(almanah_calendar_task_link_finalize),
	(almanah_calendar_task_link_new),
	(almanah_calendar_task_link_format_value),
	(almanah_calendar_task_link_view):
	* src/links/calendar-task.h:
	* src/links/file.c:
	* src/links/file.h:
	* src/links/note.c:
	* src/links/note.h:
	* src/links/uri.c:
	* src/links/uri.h:
	* src/main-window.c (almanah_main_window_new),
	(save_current_entry), (add_definition_to_current_entry),
	(remove_definition_from_current_entry),
	(mw_entry_buffer_cursor_position_cb), (apply_formatting),
	(mw_about_activate_cb), (mw_add_definition_activate_cb),
	(mw_remove_definition_activate_cb), (clear_factory_links),
	(mw_links_updated_cb), (mw_calendar_day_selected_cb),
	(mw_links_selection_changed_cb), (mw_links_value_data_cb),
	(mw_links_tree_view_row_activated_cb), (mw_view_button_clicked_cb):
	* src/main.c (almanah_quit), (main):
	* src/main.h:
	* src/printing.c (almanah_print_entries):
	* src/storage-manager.c (create_tables),
	(almanah_storage_manager_get_statistics),
	(almanah_storage_manager_set_entry),
	(almanah_storage_manager_get_definitions),
	(almanah_storage_manager_get_definition),
	(almanah_storage_manager_add_definition),
	(almanah_storage_manager_remove_definition):
	* src/storage-manager.h: Radically rearrange the "links" system so
	that "links" are now dynamic objects listed per-day, and immutable by
	the user. To replace the old "links", "definitions" have been added,
	whereby the user can define some information to be associated with a
	string across all the entries in the diary. For example, a person or
	project could be defined, and then the same associated data referenced
	from multiple entries.
	There isn't currently an interface for viewing a list of definitions,
	but one is planned.
	The old "link" types have been ported to being definition types, and
	two *new* link types have been added to complement the new system of
	link factories, which allow for dynamic link listing. The new link
	types are calendar appointments and tasks, via Evolution. Some of the
	code for this (src/link-factories/calendar-*.[ch]) is taken from the
	clock applet in gnome-panel, under the GPLv2+. It hasn't been
	modified, and should be kept in sync with the originals in
	gnome-panel.

2008-11-16  Philip Withnall  <philip@tecnocode.co.uk>

	* src/preferences-dialog.c (almanah_preferences_dialog_new):
	Fix a crash caused by dereferencing a NULL pointer.

2008-11-16  Philip Withnall  <philip@tecnocode.co.uk>

	Fix file permissions.

2008-11-16  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* data/almanah.ui:
	* src/links/uri.c (uri_build_dialog):
	* src/preferences-dialog.c (almanah_preferences_dialog_new):
	Add accessibility information to the UI, so that it is navigable in
	both Accerciser and GOK. Note: adds a dependency on ATK.

============ Version 0.5.0

2008-11-16  Philip Withnall  <philip@tecnocode.co.uk>

	* NEWS:
	* configure.ac: Bump to version 0.5.0.
	* src/Makefile.am:
	* src/link.c: Fix a build error where the link type headers
	weren't being found.

2008-11-16  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.schemas.in:
	* src/main-window.c (almanah_main_window_new): Allow the spelling
	language to be set with a GConf key.

2008-11-16  Philip Withnall  <philip@tecnocode.co.uk>

	* README:
	* configure.ac: Updated GTK+ dependency to 2.14 for gtk_show_uri().
	* src/link.c (almanah_link_get_value), (almanah_link_get_value2):
	* src/link.h:
	* src/links/file.c (file_format_value), (file_view):
	* src/links/note.c (note_format_value), (note_view):
	* src/links/uri.c (uri_format_value), (uri_view):
	* src/main-window.c (mw_calendar_day_selected_cb):
	* src/storage-manager.c (almanah_storage_manager_add_entry_link):
	Clean up the link API a little to reduce the number of string
	duplications, and also clean up the code for viewing URIs and files.

2008-11-13  Philip Withnall  <philip@tecnocode.co.uk>

	* src/link.c: Remove an unnecessary comment.
	* src/main-window.c (get_selected_date),
	(add_link_to_current_entry), (remove_link_from_current_entry),
	(mw_calendar_day_selected_cb), (mw_links_value_data_cb):
	Refactor some of the date handling code into a separate function.
	* src/interface.c (almanah_calendar_month_changed_cb):
	* src/storage-manager.c
	(almanah_storage_manager_get_month_marked_days):
	* src/storage-manager.h: Use a variable-length array for the
	mark data for each month.

2008-11-13  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac: Use AC_HELP_STRING.

2008-11-13  Philip Withnall  <philip@tecnocode.co.uk>

	* src/entry.c (almanah_entry_get_content):
	* src/entry.h:
	* src/main-window.c (mw_calendar_day_selected_cb):
	* src/printing.c (print_entry):
	* src/storage-manager.c (almanah_storage_manager_search_entries):
	Fix problems with automatically creating tags when deserialising an
	entry into a GtkTextBuffer.
	* src/search-dialog.c (sd_search_button_clicked_cb): Make sure the
	result list is cleared before doing a new search.

2008-11-13  Philip Withnall  <philip@tecnocode.co.uk>

	* src/storage-manager.c (almanah_storage_manager_disconnect): Fixed
	string ("s/almanah/diary/").

2008-11-13  Philip Withnall  <philip@tecnocode.co.uk>

	* src/interface.c (almanah_calendar_month_changed_cb):
	* src/main-window.c (mw_entry_buffer_cursor_position_cb):
	* src/storage-manager.c (almanah_storage_manager_query),
	(almanah_storage_manager_free_results),
	(almanah_storage_manager_get_statistics),
	(almanah_storage_manager_get_month_marked_days): Changed from GSlice
	allocation to the more-appropriate g_malloc and g_new.
	May fix some slice-related crashes on quitting.

2008-10-28  Philip Withnall  <philip@tecnocode.co.uk>

	* src/Makefile.am:
	* src/entry.c (almanah_entry_get_content):
	* src/interface.c (almanah_create_interface):
	* src/main-window.c (almanah_main_window_new),
	(mw_preferences_activate_cb):
	* src/main.c (storage_manager_disconnected_cb), (almanah_quit),
	(main):
	* src/main.h: Only allow the Preferences dialogue to be opened if
	encryption support is compiled in.
	* src/storage-manager.c (almanah_storage_manager_get_statistics):
	Fix a crasher when getting database statistics.

2008-10-28  Philip Withnall  <philip@tecnocode.co.uk>

	Updated svn:ignore lists.

2008-10-26  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* data/Makefile.am:
	* data/almanah.schemas.in:
	* src/main-window.c (almanah_main_window_dispose),
	(almanah_main_window_new), (save_window_state),
	(restore_window_state), (mw_delete_event_cb): Save the window
	dimensions and position upon exiting, and restore them when starting
	the program. Promotes the dependency on GConf to be mandatory (was
	previously dependent on compiling with encryption support).
	* src/links/file.c (file_view): Fix a compilation error about
	mismatched pointer types.

2008-10-23  Philip Withnall  <philip@tecnocode.co.uk>

	* src/add-link-dialog.c (almanah_add_link_dialog_new):
	* src/interface.c:
	* src/interface.h:
	* src/links/file.c (file_view):
	* src/links/note.c:
	* src/links/uri.c (uri_view):
	* src/main-window.c (almanah_main_window_new),
	(save_current_entry), (mw_calendar_day_selected_cb):
	* src/main.c (almanah_quit), (main):
	* src/preferences-dialog.c (almanah_preferences_dialog_new),
	(pd_key_combo_changed_cb), (pd_new_key_button_clicked_cb):
	* src/search-dialog.c (almanah_search_dialog_new):
	Kill almanah_interface_error.

2008-10-22  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui: Fix one missing rename from the previous commit.
	* src/entry.c (almanah_entry_get_content):
	* src/search-dialog.c (sd_search_button_clicked_cb):
	* src/storage-manager.c (almanah_storage_manager_search_entries):
	* src/storage-manager.h: Rewrite the method to search for an entry
	so that it now works with the new serialised entry format.

2008-10-22  Philip Withnall  <philip@tecnocode.co.uk>

	* src/add-link-dialog.c (almanah_add_link_dialog_new):
	* src/interface.c (almanah_get_interface_filename),
	(almanah_create_interface), (almanah_interface_embolden_label),
	(almanah_interface_error), (almanah_calendar_month_changed_cb):
	* src/interface.h:
	* src/link.c (almanah_link_view):
	* src/links/file.c (file_view):
	* src/links/note.c (note_view):
	* src/links/uri.c (uri_view):
	* src/main-window.c (almanah_main_window_new),
	(save_current_entry), (add_link_to_current_entry),
	(remove_link_from_current_entry), (mw_delete_event_cb),
	(mw_print_activate_cb), (mw_quit_activate_cb),
	(mw_search_activate_cb), (mw_preferences_activate_cb),
	(mw_about_activate_cb), (mw_calendar_day_selected_cb):
	* src/main.c (storage_manager_disconnected_cb), (almanah_quit),
	(main):
	* src/main.h:
	* src/preferences-dialog.c (almanah_preferences_dialog_new),
	(pd_key_combo_changed_cb), (pd_new_key_button_clicked_cb):
	* src/printing.c (print_entry), (paginate_cb), (draw_page_cb),
	(create_custom_widget_cb), (custom_widget_apply_cb),
	(almanah_print_entries):
	* src/printing.h:
	* src/search-dialog.c (almanah_search_dialog_new),
	(sd_search_button_clicked_cb), (select_date):
	* src/storage-manager.c (get_encryption_key),
	(almanah_storage_manager_query),
	(almanah_storage_manager_query_async): Rewrite the API to consistently
	use the "almanah" namespace, rather than "diary".

2008-10-22  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c (almanah_main_window_new),
	(mw_entry_buffer_cursor_position_cb),
	(mw_entry_buffer_insert_text_cb),
	(mw_entry_buffer_insert_text_after_cb), (apply_formatting),
	(mw_bold_toggled_cb), (mw_italic_toggled_cb),
	(mw_underline_toggled_cb): Fix some corner case problems with text
	formatting, especially when adding text to the end of a formatted
	range.

2008-10-22  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/main-window.c (almanah_main_window_new),
	(mw_entry_buffer_cursor_position_cb),
	(mw_entry_buffer_has_selection_cb): Ensure the Cut/Copy/Delete actions
	are only sensitive when a text range is selected in the current entry.
	Also ensure that the entry text view has the default focus.

2008-10-19  Philip Withnall  <philip@tecnocode.co.uk>

	* src/entry.c (almanah_entry_class_init), (almanah_entry_init),
	(almanah_entry_finalize), (almanah_entry_get_property),
	(almanah_entry_set_property), (almanah_entry_get_data),
	(almanah_entry_set_data), (almanah_entry_get_content),
	(almanah_entry_set_content), (almanah_entry_is_empty):
	* src/entry.h:
	* src/main-window.c (save_current_entry), (mw_about_activate_cb),
	(mw_calendar_day_selected_cb):
	* src/printing.c (get_iter_attrs), (is_empty_line),
	(lay_out_entry), (print_entry), (custom_widget_apply_cb),
	(diary_print_entries):
	* src/storage-manager.c (almanah_storage_manager_get_statistics),
	(almanah_storage_manager_get_entry),
	(almanah_storage_manager_set_entry),
	(almanah_storage_manager_search_entries):
	* src/storage-manager.h: Serialise and deserialise entries when
	writing them to/from the database to enable persistence of formatting
	tags. Modify the printing code to also be able to deal with
	formatting tags.

2008-10-18  Philip Withnall  <philip@tecnocode.co.uk>

	* src/search-dialog.c (almanah_search_dialog_new): Make the "Search"
	button the default so that it is activated when enter is pressed in
	the search entry.

2008-10-15  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/preferences-dialog.c (almanah_preferences_dialog_new),
	(pd_new_key_button_clicked_cb): Add a button to launch Seahorse
	to enable creation of new keys from the preferences dialogue.
	(Closes: #539792)

2008-10-14  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* data/Makefile.am:
	* data/almanah.schemas.in:
	* data/almanah.ui:
	* src/Makefile.am:
	* src/interface.c (diary_create_interface):
	* src/main-window.c (almanah_main_window_new),
	(mw_preferences_activate_cb):
	* src/main.c (diary_quit):
	* src/main.h:
	* src/preferences-dialog.c (almanah_preferences_dialog_class_init),
	(almanah_preferences_dialog_init),
	(almanah_preferences_dialog_dispose),
	(almanah_preferences_dialog_new), (pd_key_combo_changed_cb),
	(pd_response_cb):
	* src/preferences-dialog.h:
	* src/storage-manager.c (get_encryption_key): Add a preferences
	dialogue, with the ability to choose the encryption key, but not
	yet the ability to create new keys. (Helps: #539792)

2008-10-12  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main.c (storage_manager_disconnected_cb), (diary_quit),
	(main):
	* src/main.h:
	* src/storage-manager.c (almanah_storage_manager_class_init),
	(create_tables), (cipher_operation_free), (database_idle_cb),
	(decrypt_database), (encrypt_database),
	(almanah_storage_manager_connect),
	(almanah_storage_manager_disconnect),
	(almanah_storage_manager_query),
	(almanah_storage_manager_query_async),
	(almanah_storage_manager_get_statistics),
	(almanah_storage_manager_entry_exists),
	(almanah_storage_manager_get_entry),
	(almanah_storage_manager_set_entry),
	(almanah_storage_manager_search_entries),
	(almanah_storage_manager_get_month_marked_days),
	(almanah_storage_manager_get_entry_links),
	(almanah_storage_manager_add_entry_link),
	(almanah_storage_manager_remove_entry_link):
	* src/storage-manager.h: Cleaned up AlmanahStorageManager, removing
	all GUI code from it, and replacing it with signals and GErrors.
	Also improved recovery from database corruption, with better logic in
	place for handling missing or empty plaintext/encrypted database
	files.

2008-10-11  Philip Withnall  <philip@tecnocode.co.uk>

	* Makefile.am:
	* configure.ac:
	* src/Makefile.am:
	* src/main-window.c (almanah_main_window_new),
	(mw_calendar_day_selected_cb): Make spell checking optional at
	compile time.

2008-10-10  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c (save_current_entry),
	(add_link_to_current_entry), (remove_link_from_current_entry):
	* src/storage-manager.c (almanah_storage_manager_set_entry):
	Remove any GTK+ code from the storage manager, moving it to the
	main window instead. Ensure that links aren't orphaned when an entry
	is deleted. Similarly, ensure the links treeview is cleared when an
	entry is deleted.

2008-10-10  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.ui:
	* src/Makefile.am:
	* src/add-link-dialog.c (almanah_add_link_dialog_class_init),
	(almanah_add_link_dialog_init), (almanah_add_link_dialog_dispose),
	(almanah_add_link_dialog_new), (destroy_extra_widgets),
	(ald_response_cb), (ald_type_combo_box_changed_cb), (ald_show_cb),
	(almanah_add_link_dialog_get_link):
	* src/add-link-dialog.h:
	* src/entry.c (almanah_entry_class_init), (almanah_entry_init),
	(almanah_entry_finalize), (almanah_entry_get_property),
	(almanah_entry_set_property), (almanah_entry_new),
	(almanah_entry_set_content), (almanah_entry_get_content),
	(almanah_entry_get_date), (almanah_entry_get_editability),
	(almanah_entry_is_empty):
	* src/entry.h:
	* src/interface.c (diary_get_interface_filename),
	(diary_create_interface), (diary_interface_error),
	(diary_calendar_month_changed_cb):
	* src/interface.h:
	* src/link.c (almanah_link_class_init), (almanah_link_init),
	(almanah_link_finalize), (almanah_link_get_property),
	(almanah_link_set_property), (almanah_link_new),
	(almanah_link_format_value), (almanah_link_view),
	(almanah_link_build_dialog), (almanah_link_get_values),
	(almanah_link_populate_model), (almanah_link_get_type_id),
	(almanah_link_get_name), (almanah_link_get_description),
	(almanah_link_get_icon_name), (almanah_link_get_value),
	(almanah_link_set_value), (almanah_link_get_value2),
	(almanah_link_set_value2):
	* src/link.h:
	* src/links/file.c (almanah_file_link_class_init),
	(almanah_file_link_init), (file_format_value), (file_view),
	(file_build_dialog), (file_get_values):
	* src/links/file.h:
	* src/links/note.c (almanah_note_link_class_init),
	(almanah_note_link_init), (note_format_value), (note_view),
	(note_build_dialog), (note_get_values):
	* src/links/note.h:
	* src/links/uri.c (almanah_uri_link_class_init),
	(almanah_uri_link_init), (uri_format_value), (uri_view),
	(uri_build_dialog), (uri_get_values):
	* src/links/uri.h:
	* src/main-window.c (almanah_main_window_class_init),
	(almanah_main_window_init), (almanah_main_window_dispose),
	(almanah_main_window_new), (save_current_entry),
	(add_link_to_current_entry), (remove_link_from_current_entry),
	(almanah_main_window_select_date),
	(mw_entry_buffer_cursor_position_changed_cb), (mw_delete_event_cb),
	(mw_quit_activate_cb), (mw_cut_activate_cb), (mw_copy_activate_cb),
	(mw_paste_activate_cb), (mw_delete_activate_cb),
	(mw_search_activate_cb), (apply_formatting), (mw_bold_toggled_cb),
	(mw_italic_toggled_cb), (mw_underline_toggled_cb),
	(mw_about_activate_cb), (mw_jump_to_today_activate_cb),
	(mw_add_link_activate_cb), (mw_remove_link_activate_cb),
	(mw_calendar_day_selected_cb), (mw_links_selection_changed_cb),
	(mw_links_value_data_cb), (mw_links_tree_view_row_activated_cb),
	(mw_entry_view_focus_out_event_cb), (mw_add_button_clicked_cb),
	(mw_remove_button_clicked_cb), (mw_view_button_clicked_cb):
	* src/main-window.h:
	* src/main.c (diary_quit), (main):
	* src/main.h:
	* src/printing.c (print_entry):
	* src/search-dialog.c (almanah_search_dialog_class_init),
	(almanah_search_dialog_init), (almanah_search_dialog_new),
	(sd_results_selection_changed_cb), (sd_response_cb),
	(sd_search_button_clicked_cb), (select_date),
	(sd_view_button_clicked_cb):
	* src/search-dialog.h:
	* src/storage-manager.c (almanah_storage_manager_error_quark),
	(almanah_storage_manager_class_init),
	(almanah_storage_manager_init), (almanah_storage_manager_new),
	(almanah_storage_manager_finalize),
	(almanah_storage_manager_get_property),
	(almanah_storage_manager_set_property), (create_tables),
	(prepare_gpgme), (open_db_files), (decrypt_database),
	(encrypt_database), (almanah_storage_manager_connect),
	(almanah_storage_manager_disconnect),
	(almanah_storage_manager_query),
	(almanah_storage_manager_free_results),
	(almanah_storage_manager_query_async),
	(almanah_storage_manager_get_statistics),
	(almanah_storage_manager_entry_exists),
	(almanah_storage_manager_get_entry),
	(almanah_storage_manager_set_entry),
	(almanah_storage_manager_search_entries),
	(almanah_storage_manager_get_month_marked_days),
	(almanah_storage_manager_get_entry_links),
	(almanah_storage_manager_add_entry_link),
	(almanah_storage_manager_remove_entry_link):
	* src/storage-manager.h: Major architectural update, moving a lot of
	things to GObject, and adding basic text formatting support.

2008-09-24  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.desktop.in:
	* src/main-window.c (mw_about_activate_cb): Update the Bugzilla
	details and fix a few incorrect and stubbornly-remaining instances
	of the old application name.

2008-08-27  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c: (mw_calendar_day_selected_cb): Force GtkSpell to
	re-check the text view for spelling errors when the day changes.
	(Closes: #546789)

2008-08-26  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c: (mw_calendar_day_selected_cb):
	* src/storage-manager.c: (diary_storage_manager_entry_exists),
	(diary_storage_manager_entry_is_editable),
	(diary_storage_manager_set_entry):
	* src/storage-manager.h: Tidy up handling past and future diary
	entries. Past entries can now be edited, but the user is warned if the
	entries are older than a certain age.
	* src/printing.c: (print_entry): Fix printing some Pango markup.

2008-08-16  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main.c: (main): Ensure the user's data directory exists before
	creating the database file. (Closes: #543963)

2008-08-16  Philip Withnall  <philip@tecnocode.co.uk>

	* data/almanah.desktop.in:
	* src/main-window.c: (mw_about_activate_cb): Patch from Mikel
	Olasagasti <hey_neken@mundurat.net> to fix icons in the about dialogue
	and main window. (Closes: #543739)

============ Version 0.4.0

2008-07-10  Philip Withnall  <philip@tecnocode.co.uk>

	* NEWS:
	* configure.ac: Bump to version 0.4.0.
	* data/icons/16x16/Makefile.am:
	* data/icons/22x22/Makefile.am:
	* data/icons/32x32/Makefile.am:
	* data/icons/48x48/Makefile.am: Included icon SVGs in tarball.
	Updated svn:ignore lists.

2008-07-08  Philip Withnall  <philip@tecnocode.co.uk>

	* README:
	* configure.ac:
	* data/Makefile.am:
	* data/almanah.desktop.in:
	* data/almanah.ui:
	* data/diary.desktop.in:
	* data/diary.ui:
	* data/icons/16x16/Makefile.am:
	* data/icons/16x16/diary.svg:
	* data/icons/22x22/Makefile.am:
	* data/icons/22x22/diary.svg:
	* data/icons/32x32/Makefile.am:
	* data/icons/32x32/diary.svg:
	* data/icons/48x48/Makefile.am:
	* data/icons/48x48/diary.svg:
	* src/Makefile.am:
	* src/interface.c: (diary_create_interface):
	* src/main.c: (main): Changed the application name from "Diary" to
	"Almanah Diary", and the executable from "diary" to "almanah" to make
	it less generic. Some data files have moved around, orphaning the old
	ones, but the database is still in the same place and retains the old
	schema.

2008-07-06  Philip Withnall  <philip@tecnocode.co.uk>

	* src/links/file.c:
	* src/links/note.c:
	* src/links/uri.c: Fixed licence header to read GPLv3+, rather than
	GPLv2+. These files were accidentally skipped when relicencing on
	2008-04-03.

2008-07-06  Philip Withnall  <philip@tecnocode.co.uk>

	* data/diary.ui:
	* src/interface.c: (diary_create_interface),
	(diary_interface_embolden_label):
	* src/interface.h:
	* src/main-window.c: (mw_calendar_day_selected_cb):
	* src/printing.c: (print_entry), (create_custom_widget_cb): Remove
	markup from translatable strings. (Closes: #541709)
	* src/storage-manager.c: (diary_storage_manager_connect): Fix a typo
	in an error message. (Closes: #541716)

2008-06-23  Philip Withnall  <philip@tecnocode.co.uk>

	* data/icons/16x16/diary.svg:
	* data/icons/22x22/diary.svg:
	* data/icons/32x32/diary.svg:
	* data/icons/48x48/diary.svg: Add SVG versions of the icon.

2008-06-23  Philip Withnall  <philip@tecnocode.co.uk>

	* src/storage-manager.c: (diary_storage_manager_connect),
	(diary_storage_manager_disconnect): Improve error messages with
	advice on how to fix the problems.

2008-06-23  Philip Withnall  <philip@tecnocode.co.uk>

	* src/interface.c: (diary_create_interface): Remove debug code.

2008-06-23  Philip Withnall  <philip@tecnocode.co.uk>

	* data/diary.ui: Mark some strings as translatable.
	* src/interface.c: (diary_create_interface): Improve the error
	message when the UI can't be loaded.

============ Version 0.3.1

2008-06-22  Philip Withnall  <philip@tecnocode.co.uk>

	* NEWS:
	* README:
	* configure.ac: Bump to version 0.3.1.
	* data/Makefile.am: Fix the desktop file.

2008-06-22  Philip Withnall  <philip@tecnocode.co.uk>

	* NEWS: Fix a typo.
	* data/diary.ui: Make the search dialogue non-modal.
	* configure.ac:
	* src/interface.c:
	* src/links/file.c:
	* src/main-window.c:
	* src/main.c: (diary_quit_real), (main):
	* src/main.h:
	* src/storage-manager.c: Fix the non-encryption build.

============ Version 0.3

2008-06-20  Philip Withnall  <philip@tecnocode.co.uk>

	* NEWS:
	* configure.ac:
	* data/Makefile.am: Bump to version 0.3.

2008-06-20  Philip Withnall  <philip@tecnocode.co.uk>

	* README:
	* configure.ac:
	* data/Makefile.am:
	* data/icons/16x16/Makefile.am:
	* data/icons/22x22/Makefile.am:
	* data/icons/32x32/Makefile.am:
	* data/icons/48x48/Makefile.am:
	* data/icons/Makefile.am: Added new icon by Jakub Szypulka.
	* src/storage-manager.c: (diary_storage_manager_connect): Clarified
	the error message given when both DB files exist.

2008-06-08  Philip Withnall  <philip@tecnocode.co.uk>

	* README: Updated the bug reporting instructions.

2008-06-08  Philip Withnall  <philip@tecnocode.co.uk>

	* data/diary.ui:
	* src/Makefile.am:
	* src/interface.c: (diary_create_interface):
	* src/main-window.c: (mw_select_date), (mw_search_activate_cb),
	(mw_jump_to_today_activate_cb), (mw_calendar_day_selected_cb):
	* src/main-window.h:
	* src/main.c: (diary_quit):
	* src/main.h:
	* src/search-dialog.c: (results_selection_changed_cb),
	(diary_search_dialog_setup), (sd_destroy_cb),
	(sd_search_button_clicked_cb), (select_date),
	(sd_results_tree_view_row_activated_cb),
	(sd_view_button_clicked_cb):
	* src/search-dialog.h:
	* src/storage-manager.c: (diary_storage_manager_entry_is_editable),
	(diary_storage_manager_set_entry),
	(diary_storage_manager_search_entries):
	* src/storage-manager.h: Added search functionality with a new search
	dialogue. This involved a few cleanups to the interface, and also
	resulted in some efficiency improvements by moving some GDates to the
	stack from the heap.

2008-06-07  Philip Withnall  <philip@tecnocode.co.uk>

	* data/Makefile.am:
	* data/diary.desktop.in: Added a desktop file, and updated svn:ignore
	lists.

2008-06-07  Philip Withnall  <philip@tecnocode.co.uk>

	* MAINTAINERS: Added a maintainers file.

2008-05-22  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c: Add a translator comment to clarify the format
	required for the translator-credits string.

2008-05-22  Philip Withnall  <philip@tecnocode.co.uk>

	* Makefile.am: Don't explicitly state where to install documentation.

2008-05-22  Philip Withnall  <philip@tecnocode.co.uk>

	* src/storage-manager.c: Allow the application to close gracefully
	if an encryption key can't be found.

2008-05-21  Philip Withnall  <philip@tecnocode.co.uk>

	* src/storage-manager.c: Fix a crasher bug if requesting statistics
	for a database with no entries.

============ Version 0.2

2008-05-20  Philip Withnall  <philip@tecnocode.co.uk>

	* .bzrignore: Updated bzr ignore list.
	* NEWS:
	* configure.ac:
	* README: Bump to version 0.2.

2008-05-20  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* src/storage-manager.c: Made encrypted database support optional,
	and cleaned up the code a little.

2008-05-20  Philip Withnall  <philip@tecnocode.co.uk>

	* src/interface.c:
	* src/interface.h:
	* src/main-window.c:
	* src/Makefile.am:
	* src/printing.c:
	* src/printing.h:
	* src/storage-manager.h:
	* data/diary.ui: Add printing support.
	* configure.ac: Remove redundant dependency on libcryptui.
	* intltool-extract.in:
	* intltool-merge.in:
	* intltool-update.in: Upgrade intltool scripts.

2008-04-19  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c:
	* src/storage-manager.c: Make deletion of entries more robust, and
	fix display of the "Add Link" dialogue when opened for a second time.

2008-04-10  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c:
	* src/storage-manager.c: Fix use of memory after freeing it, and
	actually delete entries from the database when they're blanked.

2008-04-08  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* data/diary.ui:
	* src/Makefile.am:
	* src/main-window.c:
	* src/main.c:
	* src/main.h:
	* src/storage-manager.c:
	* src/storage-manager.h: Add encryption support for the database, with
	full backwards-compatibility for the old database filename. Also make
	sure to save the current entry on quitting.

2008-04-03  Philip Withnall  <philip@tecnocode.co.uk>

	* COPYING:
	* src/add-link-dialog.c:
	* src/add-link-dialog.h:
	* src/interface.c:
	* src/interface.h:
	* src/link.c:
	* src/link.h:
	* src/main-window.c:
	* src/main-window.h:
	* src/main.c:
	* src/main.h:
	* src/storage-manager.c:
	* src/storage-manager.h: Relicensed from GPLv2+ to GPLv3+.

2008-04-02  Philip Withnall  <philip@tecnocode.co.uk>

	* src/storage-manager.c: Free the query strings with SQLite's memory
	functions rather than GLib's.

============ Version 0.1

2008-03-30  Philip Withnall  <philip@tecnocode.co.uk>

	* src/storage-manager.c: Fix the time limit on editing entries.

2008-03-30  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main.c: Load the database file from the user's data directory,
	rather than the build directory.

2008-03-30  Philip Withnall  <philip@tecnocode.co.uk>

	* NEWS:
	* README: Updated documentation.
	* src/interface.c: Allowed interface file to load from either package
	data directory or build directory.

2008-03-30  Philip Withnall  <philip@tecnocode.co.uk>

	* src/links/email.c: Completely removed e-mail link type.

2008-03-30  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c:
	* src/storage-manager.c:
	* src/storage-manager.h: Added some basic statistics on the about
	dialogue.

2008-03-30  Philip Withnall  <philip@tecnocode.co.uk>

	* src/Makefile.am:
	* src/link.c:
	* src/links/note.c: Added "note" link type.
	* data/diary.ui:
	* src/main-window.c:
	* src/storage-manager.c: Various small fixes and UI improvements, as
	well as some improvements to the handling of empty entries.

2008-03-27  Philip Withnall  <philip@tecnocode.co.uk>

	* src/links/picasa.c: Removed Picasa link type --- use URIs instead.
	* .bzrignore:
	* src/Makefile.am:
	* src/link.c:
	* src/main-window.c: Made the link list more resilient to bad data.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* .bzrignore: Updated bzr ignore list.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* ChangeLog: Added ChangeLog.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* .bzrignore: Updated bzr ignore list.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main-window.c: Changed all C strings to en_US and added an
	en_GB translation.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* src/main.c: Fix a small leak on quit caught with Valgrind.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* configure.ac:
	* src/Makefile.am: Fixed test profiling in the Makefile.
	* src/interface.c:
	* src/link.c:
	* src/links/email.c:
	* src/links/file.c:
	* src/links/picasa.c:
	* src/links/uri.c:
	* src/main-window.c: Some comments moved to stop them showing up in
	the POT file unnecessarily.
	* src/storage-manager.c: Improvements to the debug code.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* src/links/file.c:
	* src/links/picasa.c: Added file and picasa link types.
	* configure.ac:
	* data/diary.ui:
	* src/Makefile.am:
	* src/interface.c:
	* src/link.c:
	* src/main-window.c:
	* src/main-window.h: A few more small UI fixes, as well as the
	addition of spelling checking using GtkSpell.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* data/diary.ui:
	* src/Makefile.am:
	* src/add-link-dialog.c:
	* src/add-link-dialog.h:
	* src/interface.c:
	* src/link.c:
	* src/main-window.c: Fixed changing the UI in the "Add Link" dialogue
	when the link type was changed.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* data/diary.ui:
	* src/interface.c:
	* src/link.c:
	* src/main-window.c:
	* src/main.h:
	* src/storage-manager.c:
	* src/storage-manager.h: Some more UI tweaks to make editing easier.

2008-03-23  Philip Withnall  <philip@tecnocode.co.uk>

	* data/diary.ui:
	* src/interface.c:
	* src/main-window.c:
	* src/main.h: A few small UI fixes and enhancements.

2008-03-22  Philip Withnall  <philip@tecnocode.co.uk>

	* src/links/email.c:
	* src/links/uri.c:
	* data/diary.ui:
	* intltool-extract.in:
	* intltool-merge.in:
	* intltool-update.in:
	* src/Makefile.am:
	* src/add-link-dialog.c:
	* src/add-link-dialog.h:
	* src/interface.c:
	* src/link.c:
	* src/link.h:
	* src/main-window.c:
	* src/main.h:
	* src/storage-manager.c: Rewrote the link handling and it's all
	working quite well now. More link types now need to be added.

2008-03-22  Philip Withnall  <philip@tecnocode.co.uk>

	* src/link.c:
	* src/link.h:
	* data/diary.ui:
	* src/Makefile.am:
	* src/add-link-dialog.c:
	* src/interface.c:
	* src/main-window.c:
	* src/main.h:
	* src/storage-manager.c:
	* src/storage-manager.h: Lots of work on entry links, with most of a
	working UI for adding dynamic and differing link types. Unfortunately,
	this approach is flawed and so I'll rewrite it after this commit.

2008-03-21  Philip Withnall  <philip@tecnocode.co.uk>

	Initial commit with all the functionality that the Vala version had,
	but written in an easier-to-use programming language.
